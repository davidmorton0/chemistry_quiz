<% provide(:title, 'Quiz') %>
<div id="container">
  <div class="row">
    
    <div class="col-sm-4" id="score">   
      <p class="score">
        <strong>
          <%= @quiz.questions.select { |question| question.answered == false }
            .length == 0 ? "You scored: #{@quiz.score}/#{@quiz.questions.count}" : "Current Score: #{@quiz.score}" %>
        </strong>
      </p>
      <p>
        <strong>
          Level: <%= @quiz.quiz_type.level %>
        </strong>
      </p>
    </div>
    
    <div class="col-sm-4" id="quizname">
      <h1><%= @quiz_type.name %></h1>
    </div>
    
    <div class="col-sm-4" id="startagain">
      <%= link_to "Start again", quiz_type_path(@quiz.quiz_type), class: "btn btn-lg btn-primary" %>
    </div>
    
  </div>
  
  <div id="row">
    
    <%= form_with model: @quiz, method: "patch", html: {class: "question"} do |f| %>
    
    <div class="grid-container">  
      <% @quiz.questions.each_with_index do |question, index| %>
        <%= render partial: "question", locals: {question: question, f: f, index: index} %>
      <% end %>
    </div>
  
  </div>
  
  <div id="row">
    
    <div class="col-sm-12" id="bottom">
      <%= f.button "Answer All", name: "submit", value: "all", class: "answerall" %>
    </div>
    
    <% end %>
    
  </div>
</div>